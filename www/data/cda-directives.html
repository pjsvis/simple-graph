<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDA Directives - The Loom</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <style>
        .directive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .directive-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
        }
        .directive-card:hover {
            box-shadow: var(--shadow);
            transform: translateY(-2px);
        }
        .directive-id {
            font-weight: bold;
            color: var(--secondary-color);
            font-size: 1.1em;
        }
        .directive-category {
            background: var(--light-bg);
            color: var(--text-color);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            display: inline-block;
            margin-bottom: 10px;
        }
        .directive-title {
            color: var(--primary-color);
            margin: 10px 0;
            font-size: 1.1em;
        }
        .directive-description {
            color: var(--text-light);
            font-size: 0.9em;
            line-height: 1.5;
        }
        .search-box {
            width: 100%;
            max-width: 500px;
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1em;
            margin-bottom: 20px;
        }
        .search-box:focus {
            outline: none;
            border-color: var(--secondary-color);
        }
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }
        .filter-btn:hover,
        .filter-btn.active {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><a href="../index.html" style="text-decoration: none; color: inherit;">ðŸ§  The Loom</a></h1>
                <span class="nav-subtitle">CDA Directives Browser</span>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="conceptual-lexicon.html" class="nav-link">Lexicon</a></li>
                <li><a href="relationships.html" class="nav-link">Relationships</a></li>
                <li><a href="statistics.html" class="nav-link">Statistics</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <section class="section">
            <div class="container">
                <h1>Core Directive Array (CDA)</h1>
                <p class="section-subtitle">
                    Browse the complete collection of 85 operational directives that define AI persona behavior and interaction protocols.
                </p>

                <div style="text-align: center; margin-bottom: 30px;">
                    <input type="text" id="searchBox" class="search-box" placeholder="Search directives by ID, title, or description...">
                </div>

                <div class="filter-buttons" id="categoryFilters">
                    <button class="filter-btn active" data-category="all">All Categories</button>
                    <button class="filter-btn" data-category="PHI">Processing Philosophy</button>
                    <button class="filter-btn" data-category="QPG">Query Processing</button>
                    <button class="filter-btn" data-category="COG">Cognitive Strategies</button>
                    <button class="filter-btn" data-category="OPM">Protocol Management</button>
                    <button class="filter-btn" data-category="ADV">Advisory</button>
                    <button class="filter-btn" data-category="IEP">Identity & Persona</button>
                    <button class="filter-btn" data-category="QHD">Query Handling</button>
                    <button class="filter-btn" data-category="SIN">System Integration</button>
                </div>

                <div id="directiveCount" style="margin-bottom: 20px; color: var(--text-light);">
                    Showing <span id="visibleCount">85</span> of <span id="totalCount">85</span> directives
                </div>

                <div class="directive-grid" id="directiveGrid">
                    <!-- Directives will be populated by JavaScript -->
                </div>

                <div id="noResults" style="display: none; text-align: center; padding: 40px; color: var(--text-light);">
                    <h3>No directives found</h3>
                    <p>Try adjusting your search terms or category filters.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 The Loom Knowledge Graph. CDA Directives Browser.</p>
        </div>
    </footer>

    <script>
        // Sample CDA directives data (in a real implementation, this would be loaded from an API)
        const sampleDirectives = [
            {
                id: "CDA-61-PHI-1",
                category: "PHI",
                title: "Processing Philosophy Foundation",
                description: "Establishes the fundamental philosophical approach to information processing, emphasizing clarity, accuracy, and contextual awareness in all interactions."
            },
            {
                id: "CDA-62-QPG-1", 
                category: "QPG",
                title: "Query Processing Guidelines",
                description: "Defines the systematic approach to understanding, analyzing, and responding to user queries with appropriate depth and precision."
            },
            {
                id: "CDA-63-COG-1",
                category: "COG", 
                title: "Cognitive Strategy Framework",
                description: "Outlines the cognitive strategies for reasoning, problem-solving, and knowledge synthesis across diverse domains."
            },
            {
                id: "CDA-64-OPM-1",
                category: "OPM",
                title: "Operational Protocol Management",
                description: "Establishes protocols for managing operational procedures, system interactions, and workflow optimization."
            },
            {
                id: "CDA-65-ADV-1",
                category: "ADV",
                title: "Advisory Interaction Protocols",
                description: "Defines the framework for providing advisory guidance while maintaining appropriate boundaries and expertise acknowledgment."
            },
            {
                id: "CDA-66-IEP-1",
                category: "IEP",
                title: "Identity and Persona Framework",
                description: "Establishes the core identity parameters and persona characteristics that guide interaction style and approach."
            }
        ];

        let currentFilter = 'all';
        let currentSearch = '';

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderDirectives();
            initializeSearch();
            initializeFilters();
        });

        function renderDirectives() {
            const grid = document.getElementById('directiveGrid');
            const filteredDirectives = filterDirectives();
            
            if (filteredDirectives.length === 0) {
                grid.style.display = 'none';
                document.getElementById('noResults').style.display = 'block';
            } else {
                grid.style.display = 'grid';
                document.getElementById('noResults').style.display = 'none';
                
                grid.innerHTML = filteredDirectives.map(directive => `
                    <div class="directive-card">
                        <div class="directive-category">${directive.category}</div>
                        <div class="directive-id">${directive.id}</div>
                        <h3 class="directive-title">${directive.title}</h3>
                        <p class="directive-description">${directive.description}</p>
                    </div>
                `).join('');
            }

            // Update counts
            document.getElementById('visibleCount').textContent = filteredDirectives.length;
            document.getElementById('totalCount').textContent = sampleDirectives.length;
        }

        function filterDirectives() {
            return sampleDirectives.filter(directive => {
                const matchesCategory = currentFilter === 'all' || directive.category === currentFilter;
                const matchesSearch = currentSearch === '' || 
                    directive.id.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    directive.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    directive.description.toLowerCase().includes(currentSearch.toLowerCase());
                
                return matchesCategory && matchesSearch;
            });
        }

        function initializeSearch() {
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', function(e) {
                currentSearch = e.target.value;
                renderDirectives();
            });
        }

        function initializeFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Update filter
                    currentFilter = this.dataset.category;
                    renderDirectives();
                });
            });
        }
    </script>
</body>
</html>
